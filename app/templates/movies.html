<ion-view view-title="{{cinemaLocation}}">
    <ion-content ion-sticky>
        <ion-refresher pulling-text="Pull to update movies." on-refresh="doRefresh()" spinner="bubbles">
        </ion-refresher>
        <div ng-hide="hasNoMovies">
            <div class="item item-divider bar bar-balanced" ng-if="goodMovies.length > 0">
                <h1 class="title">Good Movies</h1>
            </div>
            <div class="row" ng-repeat="row in goodMovies">
                <div class="col col-50" ng-repeat="movie in row">
                    <div style="width:100%; height:100%; background-color:white;" ng-click="selectMovie(movie)">
                        <!-- <a href="#/movie/{{movie.id}}"> -->
                        <img ng-src="{{movie.poster}}" style="width:100%;">
                        <div>{{movie.tomato_meter}}</div>
                        <span am-time-ago="{{movie.showings.data[0].start_time}}" am-preprocess="unix"> </span>
                        <!--  </a> -->
                    </div>
                </div>
            </div>
            <div class="item item-divider bar bar-energized" ng-if="fineMovies.length > 0">
                <h1 class="title">Fine Movies</h1>
            </div>
            <div class="row" ng-repeat="row in fineMovies">
                <div class="col col-50" ng-repeat="movie in row">
                    <div style="width:100%; height:100%; background-color:white;" ng-click="selectMovie(movie)">
                        <!-- <a href="#/movie/{{movie.id}}"> -->
                        <img ng-src="{{movie.poster}}" style="width:100%;">
                        <div>{{movie.tomato_meter}}</div>
                        <span am-time-ago="{{movie.showings.data[0].start_time}}" am-preprocess="unix"> </span>
                        <!--  </a> -->
                    </div>
                </div>
            </div>
            <div class="item item-divider bar bar-assertive" ng-if="badMovies.length > 0">
                <h1 class="title">Bad Movies</h1>
            </div>
            <div class="row" ng-repeat="row in badMovies">
                <div class="col col-50" ng-repeat="movie in row">
                    <div style="width:100%; height:100%; background-color:white;" ng-click="selectMovie(movie)">
                        <!-- <a href="#/movie/{{movie.id}}"> -->
                        <img ng-src="{{movie.poster}}" style="width:100%;">
                        <div>{{movie.tomato_meter}}</div>
                        <span am-time-ago="{{movie.showings.data[0].start_time}}" am-preprocess="unix"> </span>
                        <!--  </a> -->
                    </div>
                </div>
            </div>
            <div class="item item-divider bar bar-dark" ng-if="noRatingMovies.length > 0">
                <h1 class="title">No Ratings</h1>
            </div>
            <div class="row" ng-repeat="row in noRatingMovies">
                <div class="col col-50" ng-repeat="movie in row">
                    <div style="width:100%; height:100%; background-color:white;" ng-click="selectMovie(movie)">
                        <!-- <a href="#/movie/{{movie.id}}"> -->
                        <img ng-src="{{movie.poster}}" style="width:100%;">
                        <div>{{movie.tomato_meter}}</div>
                        <span am-time-ago="{{movie.showings.data[0].start_time}}" am-preprocess="unix"> </span>
                        <!--  </a> -->
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="hasNoMovies">
            No more movies available today. Come back tomorrow :)
        </div>
    </ion-content>
</ion-view>
